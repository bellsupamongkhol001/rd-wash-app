import _asyncToGenerator from"@babel/runtime/helpers/asyncToGenerator";import _regeneratorRuntime from"@babel/runtime/regenerator";import"./assets/css/global.css";import"./assets/css/index.css";import washHtml from"./pages/wash.html";import employeeHtml from"./pages/employee.html";import uniformHtml from"./pages/uniform.html";import inventoryHtml from"./pages/inventory.html";var PAGES={wash:washHtml,employee:employeeHtml,uniform:uniformHtml,inventory:inventoryHtml},mainContent=document.getElementById("main-content"),navLinks=document.querySelectorAll(".nav-link"),loaderMessage=document.getElementById("loaderMessage"),loadingOverlay=document.getElementById("loadingOverlay");function showOverlay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Loading...";loadingOverlay.querySelector(".loading-text").textContent=e,loadingOverlay.classList.remove("hidden")}function hideOverlay(){loadingOverlay.classList.add("hidden")}function loadPage(){return _loadPage.apply(this,arguments)}function _loadPage(){return _loadPage=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(showOverlay("Loading ".concat(t=r.length>0&&void 0!==r[0]?r[0]:"wash","...")),e.prev=2,n=PAGES[t]){e.next=6;break}throw new Error("Page not found: ".concat(t));case 6:return mainContent.innerHTML=n,window.scrollTo(0,0),updateActiveLink(t),window.history.pushState({},"","#".concat(t)),loadPageStyle(t),e.next=13,initController(t);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),mainContent.innerHTML='\n      <div style="padding:2rem;color:red">\n        <strong>Error:</strong> '.concat(e.t0.message,"\n      </div>");case 18:return e.prev=18,hideOverlay(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,15,18,21]])}))),_loadPage.apply(this,arguments)}function loadPageStyle(e){if(document.querySelectorAll("link[data-page-style]").forEach((function(e){return e.remove()})),!document.querySelector("link[data-global-style]")){var t=document.createElement("link");t.rel="stylesheet",t.href="assets/css/index.css",t.setAttribute("data-global-style",""),document.head.appendChild(t)}var n=document.createElement("link");n.rel="stylesheet",n.href="assets/css/".concat(e,".css"),n.setAttribute("data-page-style",e),document.head.appendChild(n)}function initController(e){return _initController.apply(this,arguments)}function _initController(){return(_initController=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,a,o,s,l,i,c;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="wash"===e.t0?3:"employee"===e.t0?8:"uniform"===e.t0?13:"inventory"===e.t0?18:23;break;case 3:return e.next=5,import("./assets/js/Controllers/washController.js");case 5:return n=e.sent,r=n.initWashPage,e.abrupt("return",r());case 8:return e.next=10,import("./assets/js/Controllers/employeeController.js");case 10:return a=e.sent,o=a.initEmployeePage,e.abrupt("return",o());case 13:return e.next=15,import("./assets/js/Controllers/uniformController.js");case 15:return s=e.sent,l=s.initUniformPage,e.abrupt("return",l());case 18:return e.next=20,import("./assets/js/Controllers/inventoryController.js");case 20:return i=e.sent,c=i.initInventoryPage,e.abrupt("return",c());case 23:console.warn("No controller for page: ".concat(t));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function updateActiveLink(e){navLinks.forEach((function(t){t.classList.toggle("active",t.dataset.page===e)}))}window.addEventListener("DOMContentLoaded",(function(){loadPage(location.hash.replace("#","")||"wash")})),navLinks.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),loadPage(e.dataset.page)}))})),window.addEventListener("popstate",(function(){loadPage(location.hash.replace("#","")||"wash")}));